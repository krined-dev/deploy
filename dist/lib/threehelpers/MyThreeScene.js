import*as THREE from"three";import{TrackballControls}from"three/examples/jsm/controls/TrackballControls";import{addCoordSystem}from"../wfa-coord.js";export class MyThreeScene{constructor(){this.scene=void 0,this.camera=void 0,this.renderer=void 0,this.controls=void 0}setupGraphics(){window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.scene=new THREE.Scene,this.scene.background=new THREE.Color(16777215),this.camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,.2,15e3),this.camera.position.set(35,50,70),this.camera.lookAt(new THREE.Vector3(0,0,0));let e=new THREE.DirectionalLight(16777215,1);e.color.setHSL(.1,1,.95),e.position.set(-.1,1.75,.1),e.position.multiplyScalar(100),e.castShadow=!0;e.shadow.camera.left=-500,e.shadow.camera.right=500,e.shadow.camera.top=500,e.shadow.camera.bottom=-500,e.shadow.camera.near=500/30,e.shadow.camera.far=500,e.shadow.mapSize.x=2048,e.shadow.mapSize.y=2048,this.scene.add(e);let i=new THREE.DirectionalLight(16777215,1);i.position.set(.1,.1,10),i.castShadow=!0,this.scene.add(i),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(12571109),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=!0,addCoordSystem(this.scene),this.controls=new TrackballControls(this.camera,this.renderer.domElement),this.controls.addEventListener("change",this.render.bind(this),!1)}updateGraphics(){this.render(),this.controls&&this.controls.update()}render(){this.renderer.render(this.scene,this.camera)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.controls.handleResize(),this.updateGraphics()}}